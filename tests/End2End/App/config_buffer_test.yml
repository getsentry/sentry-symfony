services:
  Sentry\Monolog\BreadcrumbHandler:
    arguments:
      - '@Sentry\State\HubInterface'
      - !php/const Monolog\Logger::WARNING

  Sentry\SentryBundle\Tests\End2End\App\Controller\BufferFlushController:
    autowire: true
    tags:
      - controller.service_arguments

  Sentry\SentryBundle\Tests\End2End\App\Command\MainCommand:
    tags: [ { name: 'console.command', command: 'main-command' } ]

  Sentry\SentryBundle\Tests\End2End\App\Command\BreadcrumbTestCommand:
    autowire: true
    tags: [ { name: 'console.command', command: 'sentry:breadcrumb:test' } ]

  Sentry\SentryBundle\Tests\End2End\App\Command\DummyTestCommand:
    autowire: true
    tags: [ { name: 'console.command', command: 'sentry:dummy:test' } ]

  Sentry\SentryBundle\Tests\End2End\App\Command\SubcommandTestCommand:
    autowire: true
    tags: [ { name: 'console.command', command: 'sentry:subcommand:test' } ]

  Sentry\SentryBundle\Tests\End2End\App\Command\CrashingSubcommandTestCommand:
    autowire: true
    tags: [ { name: 'console.command', command: 'sentry:subcommand:crash' } ]


monolog:
  handlers:
    main:
      type: stream
      path: "%kernel.logs_dir%/%kernel.environment%.log"
      level: debug

