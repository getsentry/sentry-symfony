sentry:
  options:
    enable_logs: true

monolog:
  handlers:
    sentry_logs:
      type: service
      id: Sentry\SentryBundle\Monolog\LogsHandler

services:
  Sentry\SentryBundle\Monolog\LogsHandler:
    arguments:
      - !php/const Monolog\Logger::WARNING

  Sentry\SentryBundle\Tests\End2End\App\Controller\LoggingController:
    autowire: true
    tags:
      - { name: controller.service_arguments }

  Sentry\SentryBundle\Tests\End2End\App\Command\LoggingCommand:
    autowire: true
    tags: [ { name: 'console.command', command: 'log:test' } ]

  Sentry\SentryBundle\Tests\End2End\App\Command\CrashCommand.nosub:
    autowire: true
    class: Sentry\SentryBundle\Tests\End2End\App\Command\CrashCommand
    arguments:
      $subcommand: null
    tags: [ { name: 'console.command', command: 'log:nosub' } ]

  Sentry\SentryBundle\Tests\End2End\App\Command\CrashCommand.sub:
    autowire: true
    class: Sentry\SentryBundle\Tests\End2End\App\Command\CrashCommand
    arguments:
      $subcommand: 'log:test'
    tags: [ { name: 'console.command', command: 'log:sub' } ]
